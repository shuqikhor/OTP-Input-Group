"use strict";var VanillaOTP=function(t,e=null){if("string"==typeof t)this.container=document.querySelector(t);else{if(!(t instanceof Element))return;this.container=t}e&&("string"==typeof e?this.updateTo=document.querySelector(e)||null:e instanceof Element?this.updateTo=e:this.updateTo=null),this.inputs=Array.from(this.container.querySelectorAll("input[type=text], input[type=number]"));let u=this,n=u.inputs.length;for(let a=0;a<n;a++){let l=u.inputs[a];l.addEventListener("input",function(){if(isNaN(l.value))return l.value=l.dataset.otpInputRestore||"",u.updateValue();if(0==l.value.length)return l.dataset.otpInputRestore="",u.updateValue();if(1==l.value.length)return l.dataset.otpInputRestore=l.value,a+1<n&&u.inputs[a+1].focus(),u.updateValue();if(a==n-1)return l.value=l.value.substring(0,1),l.dataset.otpInputRestore=l.value,u.updateValue();let t=l.value.split("");for(let e=0;e<t.length&&!(e+a>=n);e++){let i=u.inputs[e+a];i.value=t[e],i.dataset.otpInputRestore=t[e]}let s=Math.min(n-1,a+t.length);u.inputs[s].focus()}),l.addEventListener("keydown",function(t){if(8==t.keyCode&&""==l.value&&0!=a)return u.inputs[a-1].value="",u.inputs[a-1].focus(),u.updateValue();if(46==t.keyCode&&a!=n-1){let e=l.selectionStart;for(let i=a+e;i<n-1;i++)u.inputs[i].value=u.inputs[i+1].value,u.inputs[i].dataset.otpInputRestore=u.inputs[i].value;return u.inputs[n-1].value="",u.inputs[n-1].dataset.otpInputRestore="",l.selectionStart=e,t.preventDefault(),u.updateValue()}return 37==t.keyCode&&0==l.selectionStart?(a>0&&(t.preventDefault(),u.inputs[a-1].focus(),u.inputs[a-1].select()),u.updateValue()):39==t.keyCode&&l.selectionEnd==l.value.length?(a+1<n&&(t.preventDefault(),u.inputs[a+1].focus(),u.inputs[a+1].select()),u.updateValue()):void 0})}};VanillaOTP.prototype.updateValue=function(){this.updateTo&&(this.updateTo.value=this.getValue())},VanillaOTP.prototype.getValue=function(){let t="";return this.inputs.forEach(function(e){""==e.value?t+=" ":t+=e.value}),t};